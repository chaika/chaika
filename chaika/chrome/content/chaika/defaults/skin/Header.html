<!DOCTYPE html>

<!-- See license.txt for terms of usage -->

<html>
<head>
    <meta charset="Shift_JIS" />
    <title><THREADNAME/> [chaika]</title>
    <link rel="shortcut icon" href="<SKINPATH/>favicon.png" />
    <link rel="stylesheet" type="text/css" href="<SKINPATH/>style.css">
    <style>
        body {
          font: <FONTSIZE/> <FONTNAME/>;
        }
        .aaRes {
          font: <AAFONTSIZE/> <AAFONTNAME/>;
          line-height: <AALINEHEIGHT/>;
        }
    </style>
    <script>
        var SERVER_URL = "<SERVERURL/>";
        var EXACT_URL  = "<THREADURL/>";
        var BOARD_URL = "<BOARDURL/>";
    </script>
</head>

<body>

<header>
    <h1>
        <THREADNAME/>
        <aside id="thread-info" data-populated="false">(+%NEWRESCOUNT%/%ALLRESCOUNT%) %SIZEKB%KB</aside>
    </h1>

    <nav>
        <ul>
            <li><a>MENU</a>
                <ul class="menu">
                    <li><a href="chaika://board/<BOARDURL/>">スレッド一覧</a></li>
                    <li><a href="chaika://post/<THREADURL/>">書き込み</a></li>
                    <li><a href="<SERVERURL/><THREADURL/>">全件表示</a></li>
                    <li><a href="<SERVERURL/><THREADURL/>l50">新着50件</a></li>
                    <li><a href="#newMark">新着に移動</a></li>
                    <li><a href="<SERVERURL/><THREADURL/>?chaika_disable_abone=1"
                           title="あぼーん処理を一時的に無効化して再読み込みします">あぼーん無効化</a></li>
                    <li><a href="<THREADURL/>l50?chaika_force_browser=1">ブラウザ表示</a></li>
                    <hr />
                    <li><a href="#settings">オプション</a></li>
                </ul>
            </li>
        </ul>
    </nav>
</header>

<div id="settings" class="popup">
    <fieldset>
        <legend>被参照</legend>
        <label><input type="checkbox" id="pref-enable-referred-count" /> 被参照数を表示する *</label>
    </fieldset>

    <fieldset>
        <legend>ID表示</legend>
        <label><input type="checkbox" id="pref-enable-posts-count" /> 発言数を表示する *</label>
    </fieldset>

    <fieldset>
        <legend>ポップアップ</legend>
        <label><input type="checkbox" id="pref-include-self-post" /> ID ポップアップで自身のレスを含める</label>
        <label><input type="checkbox" id="pref-disable-single-id-popup" /> 「このレスのみ」のポップアップを表示しない</label>
        <label><input type="checkbox" id="pref-delay-popup" /> ポップアップ表示を遅延させる</label>
        <label title="リンク末尾だけでなく, リンク中に画像拡張子のような文字列がある場合も画像と判定するようになります.">
            <input type="checkbox" id="pref-enable-non-strict-image-detection"> 画像リンクの判定を緩くする
        </label>

        <section>
            <h1>次の種類のポップアップを上方向に表示する:</h1>
            <label><input type="checkbox" id="pref-invert-res-popup-dir" /> アンカー</label>
            <label><input type="checkbox" id="pref-invert-image-popup-dir" /> 画像</label>
            <label><input type="checkbox" id="pref-invert-id-popup-dir" /> ID</label>
            <label><input type="checkbox" id="pref-invert-refres-popup-dir" /> 逆参照</label>
        </section>

        <label>
            レスポップアップの最大表示レス数 (0で無制限):
            <input type="text" size="5" id="pref-max-posts-in-popup" />
        </label>
    </fieldset>

    <fieldset>
        <legend>ショートカットキー</legend>
        <label><input type="checkbox" id="pref-enable-shortcut" /> ショートカットキーを有効にする *</label>
        <label><input type="checkbox" id="pref-enable-resjump" /> 数字キーによるレスジャンプを有効にする</label>
        <div>キーマッピングの設定は直接 <a href="<SKINPATH/>script.js">script.js</a> を編集して下さい</div>
    </fieldset>

    <fieldset>
        <legend>自己書き込みと返信</legend>
        <label><input type="checkbox" id="pref-enable-reply-notification" /> 自分のレスに返信があったとき通知する *</label>
        <label><input type="checkbox" id="pref-highlight-my-posts" /> 自分のレスを強調する *</label>
        <label><input type="checkbox" id="pref-highlight-replies-to-me" /> 自分への返信を強調する *</label>

        <div>動作には「被参照数を表示する」を有効にする必要があります.</div>
        <div>
            <a href="https://developer.mozilla.org/ja/docs/WebAPI/Using_Web_Notifications">通知は Firefox を通じて行われます</a>.
            通知の許可を求めるダイアログが出た場合には許可を押してください.
        </div>
    </fieldset>

    <div>* の付いている設定はリロード後に反映されます.</div>
    <div>設定を保存するには Cookie を有効にして下さい.</div>

    <div id="settings-buttonset">
        <input type="button" value="OK" onclick="Prefs.close();" />
    </div>
</div>

<ul id="resPopupMenu" class="menu resPopupMenu" data-target="">
    <li><a data-command="replyTo">返信...</a></li>
    <hr />
    <li><a data-command="copy">レスをコピーする</a></li>
    <hr />
    <li><a data-command="markAsMyPost" title="レス番号を自分の書き込みとしてマークします. このスレッド内でのみ有効です.">自分のレスとしてマーク/解除</a></li>
    <li><a data-command="markAsMyID" title="IDを自分のIDとしてマークします. 設定は板内で共有されます.">自分のIDとしてマーク/解除</a></li>
</ul>
